(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-626a5152"],{"0d94":function(t,e,n){"use strict";var r=n("d839"),a=n.n(r);a.a},"8f8b":function(t,e,n){"use strict";n.r(e);var r,a,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"operation"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("div",{staticClass:"bg-purple operation_left"},[n("h3",[t._v("基本信息")]),n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px","label-position":"left",disabled:t.DISABLED}},[n("el-form-item",{attrs:{label:"基站名称",prop:"stationName"}},[n("el-input",{model:{value:t.ruleForm.stationName,callback:function(e){t.$set(t.ruleForm,"stationName",e)},expression:"ruleForm.stationName"}})],1),n("el-form-item",{attrs:{label:"基站编号",prop:"stationId"}},[n("el-input",{model:{value:t.ruleForm.stationId,callback:function(e){t.$set(t.ruleForm,"stationId",e)},expression:"ruleForm.stationId"}})],1),n("el-form-item",{attrs:{label:"基站位置",prop:"point"}},[n("el-input",{model:{value:t.ruleForm.point,callback:function(e){t.$set(t.ruleForm,"point",e)},expression:"ruleForm.point"}})],1),n("el-form-item",{attrs:{label:"状态",prop:"status"}},[n("el-select",{attrs:{placeholder:"请选择状态"},model:{value:t.ruleForm.status,callback:function(e){t.$set(t.ruleForm,"status",e)},expression:"ruleForm.status"}},[n("el-option",{attrs:{label:"启用",value:1}}),n("el-option",{attrs:{label:"停用",value:0}})],1)],1)],1),n("div",{staticClass:"bottom"},[n("el-button",{attrs:{size:t.SIZE},on:{click:t.cancel}},[t._v(" 取消 ")]),n("el-button",{attrs:{type:"primary",size:t.SIZE},on:{click:function(e){return t.preservation("ruleForm")}}},[t._v(" 确定 ")])],1)],1)]),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"bg-purple operation_map"},[t._v(" 模型图 ")])])],1)],1)},o=[],s=(n("7db0"),n("e439"),n("b64b"),n("d3b7"),n("96cf"),n("1da1")),u=n("5530"),c=n("63ae"),l=n("73c1"),d=n("a7c4"),f=n("9a36"),m=n("5880"),p=n("0962"),b={name:"Operation",data:function(){return{ruleForm:{stationName:"",stationId:"",status:"",point:""},rules:{stationName:[{required:!0,message:"请输入基站名称",trigger:"blur"}],stationId:[{required:!0,message:"请输入基站编号",trigger:"blur"}],point:[{required:!0,message:"请输入基站位置",trigger:"blur"}],status:[{required:!0,message:"请输选择状态",trigger:"chage"}]},SIZE:f["a"].SIZE,type:null,baseStationId:null,DISABLED:!1,statusList:p["a"].getStatusBaseStation()}},methods:(r=Object(l["b"])(1e3,{leading:!0}),a={cancel:function(){var t=this.$router.currentRoute.fullPath,e=this.visitedViews.find((function(e){return e.fullPath==t}));this.$EventBus.$emit("closeSelectedTag",Object(u["a"])({},e))},preservation:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;"bj"==e.type?Promise.resolve(e.setInfoVehicle.call(e,e.ruleForm)).then((function(){e.cancel()})).catch((function(t){})):"xz"==e.type&&(e.ruleForm.pointX=1,e.ruleForm.pointY=2,e.ruleForm.pointZ=3,Promise.resolve(e.addInfoVehicle.call(e,e.ruleForm)).then((function(){e.cancel()})).catch((function(t){})))}))},addInfoVehicle:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){Object(d["a"])(t).then((function(){e()})).catch((function(t){n(t)}))})));case 1:case"end":return e.stop()}}),e)})))()},setInfoVehicle:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){Object(d["e"])(t).then((function(){e()})).catch((function(t){n(t)}))})));case 1:case"end":return e.stop()}}),e)})))()},getInfoCamera:function(t){var e=this;Object(d["c"])({baseStationId:t}).then((function(t){var n=t.data[0];if(n&&Object.keys(n).length>0)for(var r in n)e.$set(e.ruleForm,r,n[r])})).catch((function(t){}))}},Object(c["a"])(a,"preservation",[r],Object.getOwnPropertyDescriptor(a,"preservation"),a),a),mounted:function(){if(this.type=this.$route.params.type,this.baseStationId=this.$route.params.baseStationId,"xz"===this.type)for(var t in this.ruleForm)this.$set(this.ruleForm,t,"");else"bj"===this.type?this.getInfoCamera(this.baseStationId):"ck"===this.type&&(this.DISABLED=!0,this.getInfoCamera(this.baseStationId))},computed:Object(u["a"])({},Object(m["mapState"])({visitedViews:function(t){return t.tagsView.visitedViews}}))},h=b,v=(n("0d94"),n("2877")),g=Object(v["a"])(h,i,o,!1,null,"16eddc29",null);e["default"]=g.exports},a7c4:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"c",(function(){return u}));n("99af");var r=n("b775"),a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["b"])("/baseStation/addBaseStation",t)},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["b"])("/baseStation/deleteBaseStation/".concat(t.baseStationId,"/").concat(t.status),t)},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["b"])("/baseStation/queryBaseStation",t)},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["b"])("/baseStation/updateBaseStation",t)},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])("/baseStation/queryBaseStationDetail/".concat(t.baseStationId),t)}},d839:function(t,e,n){}}]);